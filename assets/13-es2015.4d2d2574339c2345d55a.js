(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{QtGm:function(t,a,e){"use strict";e.r(a),e.d(a,"TagModule",(function(){return y}));var n=e("tyNb"),i=e("d8ZE"),r=e("fXoL"),s=e("VHXb"),c=e("AytR"),o=e("tk/3");let l=(()=>{class t{constructor(t){this.http=t}getList(t){return this.http.post(`${c.a.baseUrl}/tag/index`,{tag:t})}next(t){return this.http.post(`${c.a.baseUrl}/tag/next`,{next:t})}}return t.\u0275fac=function(a){return new(a||t)(r.Tb(o.b))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();var g=e("73Ib"),b=e("FLaK"),p=e("ofXK"),d=e("ySUH");function u(t,a){if(1&t){const t=r.Qb();r.Pb(0,"app-infinite-scroll",4),r.Xb("loadingChange",(function(a){return r.dc(t),r.Zb().infiniteScroll.loading=a})),r.Ob()}if(2&t){const t=r.Zb(),a=r.cc(2);r.ac("container",a)("disable",t.infiniteScroll.disable)("callback",t.infiniteScroll.callback)("loading",t.infiniteScroll.loading)}}let f=(()=>{class t{constructor(t,a,e){this.appData=t,this.tagService=a,this.activatedRoute=e}ngOnInit(){this.tag=this.activatedRoute.snapshot.data.tag,this.infiniteScroll={disable:!this.tag.next,loading:!1,callback:()=>{this.tagService.next(this.tag.next).subscribe({next:t=>{i.a.i("TagService#next",t),t.success&&(this.tag.list=this.tag.list.concat(t.data.list),this.tag.next=t.data.next,this.infiniteScroll.disable=!this.tag.next)},error:t=>{i.a.e("TagService#next",t)},complete:()=>{this.infiniteScroll.loading=!1}})}}}ngOnDestroy(){const t=this.appData.tag.findIndex(t=>t.tag===this.tag.tag);1!==t&&(this.appData.tag[t]=this.tag)}}return t.\u0275fac=function(a){return new(a||t)(r.Kb(s.a),r.Kb(l),r.Kb(n.a))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-tag"]],decls:5,vars:3,consts:[[1,"body","vertical-padding"],["scrollContainer",""],[3,"includeTagLink","item"],[3,"container","disable","callback","loading","loadingChange",4,"ngIf"],[3,"container","disable","callback","loading","loadingChange"]],template:function(t,a){if(1&t&&(r.Lb(0,"app-toolbar"),r.Pb(1,"div",0,1),r.Lb(3,"app-grid",2),r.hc(4,u,1,4,"app-infinite-scroll",3),r.Ob()),2&t){const t=r.cc(2);r.zb(3),r.ac("includeTagLink",!1)("item",a.tag),r.zb(1),r.ac("ngIf",t)}},directives:[g.a,b.a,p.i,d.a],styles:[""]}),t})();var h=e("mrSG"),v=e("vnd8");let m=(()=>{class t{constructor(t,a){this.appData=t,this.tagService=a}resolve(t,a){const e=t.paramMap.get("id")||"";return new Promise((t,a)=>{const n=this.appData.tag.find(t=>t.tag===e);n?t(n):this.tagService.getList(e).subscribe({next:e=>{if(i.a.i("TagResolver#resolve",e),e.success)return this.appData.tag.push(e.data),void t(e.data);a(new Error(e.message))},error:t=>{a(new Error(t))}})})}}return t.\u0275fac=function(a){return new(a||t)(r.Tb(s.a),r.Tb(l))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),Object(h.c)([Object(v.a)()],t.prototype,"resolve",null),t})();const x=[{path:"",component:f,resolve:{tag:m}}];let S=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(a){return new(a||t)},imports:[[n.g.forChild(x)],n.g]}),t})();var w=e("PCNd");let y=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(a){return new(a||t)},providers:[l,m],imports:[[w.a,S]]}),t})()}}]);